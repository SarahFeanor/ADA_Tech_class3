<sub> üìÇCurso Vem Ser Tech Dados - Ada Tech Turma 1102 </sub>

# üíª Banco de Dados - M√≥dulo 3 

<details>
<summary>Introdu√ß√£o</summary>

---
Bancos de dados s√£o uma das tecnologias mais importantes do mundo moderno. Eles s√£o amplamente utilizados para armazenar, gerenciar e recuperar grandes quantidades de informa√ß√µes de maneira eficiente e segura. Um banco de dados √© um sistema organizado de informa√ß√µes que pode ser acessado, gerenciado e atualizado de maneira conveniente. Em termos simples, um banco de dados √© um arm√°rio gigante que armazena informa√ß√µes sobre tudo, desde os nomes de clientes at√© informa√ß√µes de produtos, registros financeiros e muito mais.

Os bancos de dados s√£o usados em uma ampla variedade de aplica√ß√µes, desde simples aplicativos de desktop at√© sistemas de gerenciamento de grandes empresas e organiza√ß√µes governamentais. Eles permitem que as informa√ß√µes sejam armazenadas e acessadas rapidamente e de maneira confi√°vel, tornando-os uma parte vital de muitos sistemas de tecnologia da informa√ß√£o.

## üìå Utilidade de um banco de dados

Um banco de dados √© como um grande arm√°rio de arquivos, mas em vez de papel, ele armazena informa√ß√µes digitais. Ele √© projetado para armazenar e gerenciar grandes quantidades de dados de maneira organizada e eficiente. Assim como um arm√°rio de arquivos √© √∫til para manter documentos organizados e f√°ceis de encontrar, um banco de dados √© √∫til para armazenar e acessar informa√ß√µes de maneira r√°pida e eficiente.

Imagine que voc√™ tem uma loja on-line que vende roupas. Voc√™ precisa gerenciar informa√ß√µes sobre seus produtos, clientes, pedidos, pagamentos e estoques. Voc√™ pode armazenar essas informa√ß√µes em planilhas, arquivos de texto ou at√© mesmo em papel. No entanto, conforme sua loja cresce, gerenciar essas informa√ß√µes manualmente pode se tornar cada vez mais dif√≠cil e demorado.

Aqui √© onde um banco de dados pode ser √∫til. Com um banco de dados, voc√™ pode armazenar todas essas informa√ß√µes em uma √∫nica fonte confi√°vel e organizada. Voc√™ pode facilmente acessar e atualizar informa√ß√µes sobre seus produtos, clientes e pedidos em tempo real, em vez de ter que procurar em v√°rios arquivos ou documentos. Voc√™ pode gerar relat√≥rios e an√°lises para ajudar a entender melhor seu neg√≥cio e tomar decis√µes informadas com base nos dados.

Outra analogia que pode ajudar a entender a utilidade de um banco de dados √© um cat√°logo de biblioteca. Imagine que voc√™ √© o bibliotec√°rio de uma grande biblioteca e precisa gerenciar informa√ß√µes sobre todos os livros em sua cole√ß√£o. Voc√™ pode armazenar essas informa√ß√µes em fichas de papel em uma caixa de arquivo. No entanto, √† medida que a biblioteca cresce, gerenciar essas informa√ß√µes manualmente pode se tornar cada vez mais dif√≠cil e demorado.

Novamente, com um banco de dados, voc√™ pode armazenar informa√ß√µes sobre todos os livros em sua cole√ß√£o em uma √∫nica fonte confi√°vel e organizada. Voc√™ pode facilmente acessar e atualizar informa√ß√µes sobre t√≠tulos, autores, editoras e categorias em tempo real. Voc√™ pode gerar relat√≥rios para ajudar a entender melhor a cole√ß√£o da biblioteca e at√© fazer recomenda√ß√µes aos usu√°rios com base nos dados.

## üìå Mais sobre o PostgreSQL

O PostgreSQL √© um sistema de gerenciamento de banco de dados relacional de c√≥digo aberto que foi lan√ßado pela primeira vez em 1989. Ele foi criado como um projeto de pesquisa na Universidade da Calif√≥rnia em Berkeley, nos Estados Unidos, e desde ent√£o tem sido amplamente adotado por empresas e organiza√ß√µes em todo o mundo.

O PostgreSQL √© conhecido por sua confiabilidade, escalabilidade e desempenho. Ele foi projetado para suportar cargas de trabalho pesadas e √© altamente personaliz√°vel, permitindo que os usu√°rios ajustem o sistema de acordo com suas necessidades espec√≠ficas. Al√©m disso, ele √© altamente compat√≠vel com padr√µes do setor e oferece suporte a muitos recursos avan√ßados, como transa√ß√µes ACID, √≠ndices em texto completo, integridade referencial e muito mais. Ele √© uma das ferramentas de banco de dados mais populares do mercado, oferecendo recursos avan√ßados de seguran√ßa, confiabilidade e escalabilidade.

Uma das principais caracter√≠sticas do PostgreSQL √© sua capacidade de suportar objetos complexos, como arrays, JSON, XML e geometrias espaciais. Ele tamb√©m oferece suporte a muitos tipos de dados diferentes, incluindo n√∫meros, datas, strings e muito mais. Isso o torna uma escolha popular para aplicativos que envolvem muitos dados complexos e variados.

Outra caracter√≠stica not√°vel do PostgreSQL √© sua capacidade de ser estendido por meio de m√≥dulos adicionais, conhecidos como extens√µes. Essas extens√µes permitem que os usu√°rios adicionem novos recursos e funcionalidades ao sistema sem precisar modificar o c√≥digo-fonte principal. Isso torna o PostgreSQL altamente personaliz√°vel e adapt√°vel a uma ampla variedade de casos de uso.

Muitas grandes empresas confiam no PostgreSQL para armazenar seus dados cr√≠ticos. Aqui est√£o alguns exemplos de empresas que utilizam essa tecnologia:

- Apple: a Apple usa o PostgreSQL para gerenciar dados do iTunes, App Store e Apple Music.

- Cisco: a Cisco usa o PostgreSQL como banco de dados principal para sua plataforma de gerenciamento de rede.

- Fujitsu: a Fujitsu usa o PostgreSQL como banco de dados principal para seus sistemas de gerenciamento de invent√°rio.

- Skype: o Skype usa o PostgreSQL para armazenar dados de bate-papo e hist√≥rico de chamadas.

- Reddit: o Reddit usa o PostgreSQL para armazenar dados de usu√°rios, postagens e coment√°rios.

## Refer√™ncias e materiais complementares
- PostgreSQL: https://www.postgresql.org/about/

---

</details>

<details>
<summary>Tipos de Bancos de Dados</summary>

---

Existem dois tipos principais de bancos de dados: bancos relacionais e bancos n√£o relacionais.

Os bancos de dados relacionais s√£o baseados em uma estrutura de tabelas inter-relacionadas. Os dados s√£o organizados em tabelas, cada uma com uma coluna para um tipo espec√≠fico de dado e cada linha contendo uma entrada individual. As tabelas s√£o inter-relacionadas por meio de chaves prim√°rias e estrangeiras, que s√£o usadas para vincular os dados em diferentes tabelas. O SQL (Structured Query Language) √© a linguagem de programa√ß√£o mais comumente usada para manipular bancos de dados relacionais.

Por outro lado, os bancos de dados n√£o relacionais s√£o projetados para armazenar dados sem a estrutura r√≠gida de tabelas e esquemas relacionais. Eles s√£o mais flex√≠veis em termos de como os dados s√£o organizados e podem ser mais escal√°veis e tolerantes a falhas do que os bancos de dados relacionais. Eles tamb√©m podem ser usados para armazenar tipos de dados mais complexos, como documentos, gr√°ficos e dados de s√©ries temporais. Exemplos de bancos de dados n√£o relacionais incluem bancos de dados de documentos, bancos de dados de grafos e bancos de dados de s√©ries temporais.

A principal diferen√ßa entre bancos de dados relacionais e n√£o relacionais √© a forma como os dados s√£o estruturados e organizados. Os bancos de dados relacionais t√™m uma estrutura de tabelas r√≠gida, com colunas e linhas organizadas em uma grade, enquanto os bancos de dados n√£o relacionais t√™m uma estrutura mais flex√≠vel, com dados armazenados em uma hierarquia de documentos ou grafos.

Outra diferen√ßa importante √© a maneira como os dados s√£o consultados e manipulados. Os bancos de dados relacionais usam SQL para consultar e manipular dados, enquanto os bancos de dados n√£o relacionais geralmente usam uma API baseada em objetos ou documentos para manipular dados.

Ambos os tipos de bancos de dados t√™m suas pr√≥prias vantagens e desvantagens, e a escolha entre um banco de dados relacional ou n√£o relacional depender√° das necessidades e requisitos espec√≠ficos do projeto. Os bancos de dados relacionais s√£o mais adequados para projetos com estruturas de dados r√≠gidas e requisitos de transa√ß√£o, enquanto os bancos de dados n√£o relacionais s√£o mais adequados para projetos que precisam armazenar dados n√£o estruturados ou semiestruturados e exigem escalabilidade e flexibilidade.

## üìå Principais diferen√ßas

Banco de Dados Relacional (RDBMS): √© o tipo mais comum de banco de dados, que usa uma estrutura de tabelas relacionais para armazenar dados. O modelo relacional √© baseado em rela√ß√µes matem√°ticas entre as tabelas e √© capaz de garantir a integridade dos dados atrav√©s do uso de chaves prim√°rias, chaves estrangeiras e restri√ß√µes de integridade referencial. Exemplos de bancos de dados relacionais incluem PostgreSQL, MySQL, Oracle e SQL Server.

Banco de Dados de Colunas: neste tipo de banco de dados, os dados s√£o armazenados em colunas em vez de linhas, como nos bancos de dados relacionais tradicionais. Isso permite que as consultas sejam executadas de forma mais r√°pida em grandes conjuntos de dados e melhora o desempenho de consultas anal√≠ticas. Exemplos de bancos de dados de colunas incluem o Apache Cassandra e o Apache HBase.

Banco de Dados de Documentos: neste tipo de banco de dados, os dados s√£o armazenados em documentos individuais, como JSON ou XML. Cada documento cont√©m todos os dados relacionados em um √∫nico registro e pode ser aninhado para criar uma estrutura hier√°rquica de dados. Exemplos de bancos de dados de documentos incluem o MongoDB e o Couchbase.

Banco de Dados de Grafos: neste tipo de banco de dados, os dados s√£o armazenados em grafos, que consistem em n√≥s e arestas. Os n√≥s representam entidades e as arestas representam as conex√µes entre eles. Isso permite consultas sofisticadas que exploram as rela√ß√µes complexas entre os dados. Exemplos de bancos de dados de grafos incluem o Neo4j e o OrientDB.

Banco de Dados de Tempo Real (In-Memory): neste tipo de banco de dados, os dados s√£o armazenados em mem√≥ria RAM em vez de em disco. Isso permite um acesso muito r√°pido aos dados, tornando-o ideal para aplicativos que exigem baixa lat√™ncia, como sistemas de negocia√ß√£o financeira, jogos online e processamento de dados em tempo real. Exemplos de bancos de dados de tempo real incluem o SAP HANA e o MemSQL.

## üìå Exemplos de bancos de dados n√£o relacionais

Como modelo de banco de dados, os bancos de dados NoSQL (Not Only SQL) t√™m como caracter√≠stica principal o fato de n√£o utilizarem uma estrutura de tabelas relacionais como nos bancos de dados relacionais tradicionais, como o PostgreSQL. Em vez disso, os bancos de dados NoSQL s√£o projetados para manipular grandes quantidades de dados n√£o estruturados ou semiestruturados e trabalhar com escalabilidade horizontal em v√°rios servidores.

Aqui est√£o alguns exemplos de bancos de dados NoSQL e suas principais caracter√≠sticas:

- DynamoDB: √© um banco de dados de valor-chave totalmente gerenciado pela Amazon Web Services (AWS). Ele √© projetado para alta disponibilidade, escalabilidade e desempenho, al√©m de ser totalmente gerenciado. O DynamoDB √© comumente usado para armazenar informa√ß√µes do usu√°rio em aplicativos m√≥veis e para gerenciar sess√µes de jogos online.

- Redis: √© um banco de dados em mem√≥ria de c√≥digo aberto que permite armazenar dados em chave-valor, com suporte a diferentes tipos de dados, como strings, hashes, listas, conjuntos e sorted sets. O Redis √© conhecido por sua velocidade e alta escalabilidade, sendo comumente usado para cache, filas de mensagens e gerenciamento de sess√µes.

- Cassandra: √© um banco de dados distribu√≠do de colunas amplamente usado em aplicativos com grande volume de dados, incluindo an√°lise de dados, gerenciamento de registros, gerenciamento de conte√∫do e gerenciamento de m√≠dia social. O Cassandra tem alta escalabilidade horizontal e oferece recursos como replica√ß√£o de dados em v√°rios datacenters para garantir alta disponibilidade.

- MongoDB: √© um banco de dados de documentos de c√≥digo aberto que armazena dados em formato BSON (uma varia√ß√£o do formato JSON). O MongoDB √© conhecido por sua escalabilidade horizontal, flexibilidade e velocidade, al√©m de ser usado em aplicativos da web, de com√©rcio eletr√¥nico e de m√≠dia social.

- Neo4j: √© um banco de dados de grafo que permite modelar dados como n√≥s e relacionamentos. Ele √© frequentemente usado em aplicativos que envolvem redes sociais, an√°lise de dados e sistemas de recomenda√ß√£o. O Neo4j √© conhecido por sua capacidade de pesquisar rela√ß√µes complexas entre dados e sua escalabilidade horizontal.

- HBase: O Apache HBase √© um banco de dados NoSQL distribu√≠do, de colunas e baseado no Apache Hadoop. Ele √© projetado para armazenar grandes quantidades de dados com alta velocidade de leitura e grava√ß√£o, e suporta opera√ß√µes em tempo real e an√°lise de dados em lote. O HBase √© usado em v√°rios casos de uso, como armazenamento de dados de sensores IoT (Internet das Coisas), an√°lise de logs, processamento de eventos em tempo real e sistemas de recomenda√ß√£o. Ele √© amplamente utilizado por empresas que precisam armazenar grandes quantidades de dados e executar an√°lises em tempo real ou perto do tempo real.

### Refer√™ncias e materiais complementares

- DynamoDB: https://aws.amazon.com/dynamodb/
- Redis: https://redis.io/
- Cassandra: https://cassandra.apache.org/
- MongoDB: https://www.mongodb.com/
- Neo4j: https://neo4j.com/
- Apache HBase: https://hbase.apache.org/

---

</details>

<details>
<summary>Instala√ß√£o do PostgreSQL</summary>
  
---

## üìå Instala√ß√£o do PostgreSQL no Windows:

A maneira mais f√°cil de instalar o PostgreSQL no Windows √© atrav√©s do instalador dispon√≠vel no site oficial.

- O link para download √©: https://www.postgresql.org/download/windows/

Basta baixar o arquivo de instala√ß√£o correspondente √† vers√£o desejada, execut√°-lo e seguir as instru√ß√µes na tela. √â importante lembrar que durante a instala√ß√£o √© poss√≠vel selecionar os componentes que deseja instalar, como a ferramenta gr√°fica pgAdmin. Al√©m disso, tamb√©m √© poss√≠vel escolher o local de instala√ß√£o e a senha do usu√°rio admin. Ap√≥s a instala√ß√£o, o PostgreSQL estar√° pronto para uso.

Para mais informa√ß√µes sobre a instala√ß√£o do PostgreSQL no Windows, consulte a documenta√ß√£o oficial dispon√≠vel em: https://www.postgresql.org/docs/current/tutorial-install.html

## üìå Instala√ß√£o do PostgreSQL no Linux:
No Linux, a instala√ß√£o do PostgreSQL varia de acordo com a distribui√ß√£o Linux que est√° sendo utilizada. Para distribui√ß√µes baseadas em Debian, como o Ubuntu, o PostgreSQL pode ser instalado usando o gerenciador de pacotes apt-get. Para isso, basta executar o seguinte comando no terminal:

```python
sudo apt-get install postgresql
```

Para outras distribui√ß√µes Linux, √© necess√°rio verificar a documenta√ß√£o espec√≠fica da distribui√ß√£o para obter as instru√ß√µes de instala√ß√£o.

Ap√≥s a instala√ß√£o, √© poss√≠vel configurar o PostgreSQL utilizando o utilit√°rio de linha de comando chamado psql. Para mais informa√ß√µes sobre a instala√ß√£o do PostgreSQL no Linux, consulte a documenta√ß√£o 3 oficial dispon√≠vel em: https://www.postgresql.org/download/linux/

## üìå Instala√ß√£o do PostgreSQL no Mac
No Mac, o PostgreSQL pode ser instalado usando o Homebrew, que √© um gerenciador de pacotes para o macOS. Para instalar o PostgreSQL usando o Homebrew, basta executar o seguinte comando no terminal:

```python
brew install postgresql
```
Ap√≥s a instala√ß√£o, √© poss√≠vel configurar o PostgreSQL utilizando o utilit√°rio de linha de comando chamado psql. Para mais informa√ß√µes sobre a instala√ß√£o do PostgreSQL no Mac, consulte a documenta√ß√£o oficial dispon√≠vel em: https://www.postgresql.org/download/macosx/

## üìå Instala√ß√£o do PostgreSQL utilizando Docker
O Docker √© uma plataforma para desenvolvimento, distribui√ß√£o e execu√ß√£o de aplicativos em cont√™ineres. Com o Docker, √© poss√≠vel criar um ambiente isolado para executar o PostgreSQL.

Leia mais sobre docker em: https://docs.docker.com/

Para isso, basta executar o seguinte comando no terminal:

```python
docker run --name postgres -e POSTGRES_PASSWORD=<senha> -d postgres
```

Neste comando, substitua "" pela senha desejada para o usu√°rio "postgres". Ap√≥s a execu√ß√£o do comando, o PostgreSQL ser√° iniciado em um cont√™iner Docker isolado. √â poss√≠vel conectar-se ao PostgreSQL dentro do cont√™iner usando o utilit√°rio de linha de comando psql.

Para mais informa√ß√µes sobre o uso do PostgreSQL com o Docker, consulte a documenta√ß√£o oficial dispon√≠vel em: https://hub.docker.com/_/postgres/

## üìå Refer√™ncias e materiais complementares
- Documenta√ß√£o: https://www.postgresql.org/docs/

---

</details>

<details>
<summary>DDL e DML</summary>
  
---

DDL significa Data Definition Language, que √© uma linguagem utilizada para definir a estrutura e as caracter√≠sticas dos dados em um banco de dados. DDL √© usado para criar, modificar e excluir objetos no banco de dados, como tabelas, √≠ndices, views e outros objetos.

Uma analogia para entender o DDL √© compar√°-lo com a constru√ß√£o de uma casa. Assim como um arquiteto projeta a estrutura de uma casa, o DDL √© usado para projetar a estrutura de um banco de dados. O arquiteto decide onde as paredes devem ser colocadas, quantos quartos a casa ter√°, como a cozinha ser√° configurada, entre outras coisas. De maneira semelhante, o DDL determina a estrutura do banco de dados, como as tabelas que ser√£o criadas, quais campos elas ter√£o e como ser√£o relacionadas entre si.

J√° o DML significa Data Manipulation Language, que √© uma linguagem usada para manipular os dados dentro de um banco de dados. DML √© usado para inserir, atualizar, excluir e recuperar dados em um banco de dados. Isso significa que o DML √© usado para fazer opera√ß√µes de leitura e escrita nos dados armazenados em um banco de dados.

Uma analogia para entender o DML √© compar√°-lo com a manipula√ß√£o de objetos em uma sala. Suponha que voc√™ queira mudar a posi√ß√£o de uma mesa em uma sala. Voc√™ pode mov√™-la para um novo local, atualizando a posi√ß√£o dela. Da mesma forma, com o DML, voc√™ pode atualizar dados em uma tabela para refletir mudan√ßas na informa√ß√£o.

### Refer√™ncias e materiais complementares
- https://www.postgresql.org/docs/current/ddl.html
- https://www.postgresql.org/docs/current/dml.html

---

</details>

<details>
<summary>Databases</summary>
---
  
Para criar ou remover um banco de dados no PostgreSQL, √© necess√°rio ter privil√©gios de superusu√°rio ou de um usu√°rio com permiss√µes suficientes para criar ou remover um novo banco de dados.

## üìå Inserindo bases de dados
Existem algumas maneiras de criar um banco de dados no PostgreSQL: atrav√©s do utilit√°rio de linha de comando createdb, atrav√©s da interface gr√°fica do pgAdmin (ou qualquer outro SGDB que esteja utilizando) ou utilizando um comando SQL.

## Criando um banco de dados com o comando createdb
Antes de qualquer coisa, devemos nos conectar ao prompt, digitando no terminal o comando:

```python
sudo -i -u postgres psql
```
No exemplo acima, fizemos login com o usu√°rio postgres ao prompt do PostgreSQL.

Para sair do prompt, basta digitarmos:
```python
\q
```
Para criar um banco de dados usando o createdb, basta executar o seguinte comando no terminal:

```python
createdb <nome_do_banco_de_dados>
```

Substitua <nome_do_banco_de_dados> pelo nome desejado para o banco de dados. Por exemplo:

```python
createdb meu_banco_bonito
```

Para visualizar a lista de bases de dados criadas, basta utilizarmos o comando:
```python
\l
```
## üìå Criando um banco de dados utilizando linguagem SQL
O comando CREATE DATABASE √© usado para criar um banco de dados no PostgreSQL. Ele pode ser executado tanto no utilit√°rio de linha de comando psql quanto em outras ferramentas que suportam a execu√ß√£o de comandos SQL.

Para executar este comando, devemos estar com a janela de execu√ß√£o do SQL aberta, utilizando, por exemplo o pgAdmin.

O formato b√°sico do comando √© o seguinte:

```python
CREATE DATABASE nome_do_banco_de_dados;
```

Substitua `nome_do_banco_de_dados ` pelo nome desejado para o banco de dados. √â poss√≠vel especificar outras op√ß√µes ao criar um banco de dados, como o propriet√°rio do banco de dados, a codifica√ß√£o de caracteres e a localiza√ß√£o do banco de dados. Algumas op√ß√µes comuns incluem:

OWNER para definir o propriet√°rio do banco de dados.
ENCODING para definir a codifica√ß√£o de caracteres do banco de dados.
LC_COLLATE e LC_CTYPE para definir as configura√ß√µes de localiza√ß√£o do banco de dados.
Por exemplo, o seguinte comando cria um banco de dados chamado "minha_base_de_dados" com o propriet√°rio "meu_usuario" e codifica√ß√£o de caracteres "UTF8":

```python
CREATE DATABASE minha_base_de_dados
WITH    OWNER meu_usuario
        ENCODING 'UTF8'
        LC_COLLATE 'pt_BR.UTF-8'
        LC_CTYPE 'pt_BR.UTF-8';
```

Uma vez criado, o banco de dados pode ser acessado e gerenciado usando outros comandos SQL ou ferramentas de administra√ß√£o do PostgreSQL, como o pgAdmin.

√â importante notar que a cria√ß√£o de um banco de dados requer permiss√µes de superusu√°rio ou de um usu√°rio com permiss√µes suficientes para criar um banco de dados. Se voc√™ n√£o tem as permiss√µes necess√°rias, voc√™ receber√° uma mensagem de erro ao tentar criar o banco de dados.

Para mais informa√ß√µes sobre o comando CREATE DATABASE e outras op√ß√µes dispon√≠veis, consulte a documenta√ß√£o oficial do PostgreSQL.

## üìå Removendo bases de dados
Para remover um banco de dados no PostgreSQL tamb√©m podemos utilizar as mesmas formas da cria√ß√£o, via prompt, script SQL ou interface gr√°fica.

### Removendo um banco de dados com o comando dropdb
Para remover um banco de dados usando o dropdb, basta executar o seguinte comando no terminal:

```python
dropdb <nome_do_banco_de_dados>
```
Substitua `<nome_do_banco_de_dados>` pelo nome desejado para o banco de dados. Por exemplo:

```python
dropdb meu_banco_bonito
```
## üìå Removendo um banco de dados utilizando linguagem SQL
Para remover um banco de dados existente utilizando linguagem SQL, basta executar o comando:

```python
DROP DATABASE nome_do_banco_de_dados;
```
Al√©m disso, podemos adicionar o par√¢metro IF EXISTS, ele funciona como um validador para quando o banco de dados mencionado n√£o existir, o PostgreSQL somente ignorar ao inv√©s de retornar um erro.

```python
DROP DATABASE IF EXISTS meu_banco_bonito;
```
### Refer√™ncias e materiais complementares
- https://www.postgresql.org/docs/current/app-createdb.html

- https://www.postgresql.org/docs/current/sql-createdatabase.html

- https://www.postgresql.org/docs/current/app-dropdb.html

- https://www.postgresql.org/docs/current/sql-dropdatabase.html

---

</details>

<details>
<summary>Tabelas</summary>

---

## üìå Cria√ß√£o de tabelas
Para criar uma tabela no PostgreSQL, voc√™ precisa usar a linguagem DDL (Data Definition Language) e a sintaxe √© a seguinte:

```python
CREATE TABLE nome_da_tabela (
  nome_do_campo1 tipo_do_campo1,
  nome_do_campo2 tipo_do_campo2,
  ...,
  nome_do_campoN tipo_do_campoN
);
```
Por exemplo, para criar uma tabela chamada "clientes" com dois campos, "id" e "nome", o comando seria o seguinte:

```python
CREATE TABLE clientes (
  id SERIAL PRIMARY KEY,
  nome VARCHAR(50)
);

```
Este comando cria uma tabela "clientes" com um campo "id" que √© um n√∫mero serial (ou seja, um n√∫mero sequencial gerado automaticamente pelo PostgreSQL) e um campo "nome" que √© uma string de at√© 50 caracteres.

N√£o se preocupe com o "PRIMARY KEY" ainda, isso ser√° abordado nos pr√≥ximos cap√≠tulos.

## üìå Edi√ß√£o de tabelas
Para editar uma tabela existente no PostgreSQL, voc√™ pode usar o comando ALTER TABLE. Por exemplo, se voc√™ quiser adicionar um novo campo "email" √† tabela "clientes", o comando seria o seguinte:

```python
ALTER TABLE clientes ADD COLUMN email VARCHAR(50);
```
Este comando adiciona um novo campo chamado "email" √† tabela "clientes" com um comprimento m√°ximo de 50 caracteres.

## üìå Exclus√£o de tabelas
Finalmente, para excluir uma tabela no PostgreSQL, voc√™ pode usar o comando DROP TABLE. Por exemplo, se voc√™ quiser excluir a tabela "clientes", o comando seria o seguinte:

```python
DROP TABLE clientes;
```
Este comando exclui a tabela "clientes" e todos os dados armazenados nela.

√â importante notar que a exclus√£o de uma tabela √© uma opera√ß√£o permanente e irrevog√°vel. Portanto, sempre se certifique de ter feito um backup dos dados importantes antes de executar um comando DROP TABLE.

## üìå Tipos de dados mais comuns
Nos exemplos acima, falamos dos tipos int e varchar, por√©m, existem alguns outros tipos de dados que s√£o poss√≠veis de serem utilizados, que nos auxiliam para situa√ß√µes espec√≠ficas.

### Tipos num√©ricos:
- INTEGER: armazena n√∫meros inteiros com sinal. O tamanho padr√£o √© de 4 bytes, mas pode ser especificado um tamanho maior ou menor. √â usado para armazenar dados num√©ricos que representam quantidades inteiras, como a quantidade de itens em um pedido.

- BIGINT: armazena n√∫meros inteiros com sinal de 8 bytes. √â usado para armazenar dados num√©ricos que representam quantidades maiores que o INTEGER, como o n√∫mero de habitantes de uma cidade ou pa√≠s.

- NUMERIC: armazena n√∫meros decimais com precis√£o arbitr√°ria. √â usado para armazenar valores monet√°rios ou outros dados num√©ricos que requerem alta precis√£o.

- DOUBLE PRECISION: armazena n√∫meros de ponto flutuante de dupla precis√£o. √â usado para armazenar dados num√©ricos que requerem alta precis√£o e uma grande faixa de valores, como as coordenadas geogr√°ficas de um local.

### Tipos de texto
- VARCHAR: armazena strings de comprimento vari√°vel. √â usado para armazenar dados de texto de comprimento vari√°vel, como nomes de pessoas ou endere√ßos de e-mail.

- CHAR: armazena strings de comprimento fixo. √â usado para armazenar dados de texto de comprimento fixo, como c√≥digos postais ou n√∫meros de identifica√ß√£o.

- TEXT: armazena strings de comprimento vari√°vel sem limite. √â usado para armazenar grandes volumes de dados de texto, como descri√ß√µes de produtos ou coment√°rios em um site.

√â comum a utiliza√ß√£o do tipo `varchar` na maioria dos casos, pois geralmente campos de tamanhos variados s√£o armazenados como texto. O `varchar` armazena apenas os caracteres salvos, e deixa o resto do espa√ßo vazio e dispon√≠vel para outro dado.

Por exemplo: uma coluna do tipo `varchar(50)` que recebe o texto: 'Ada tecnologia', utiliza apenas 14 "espa√ßos" na mem√≥ria, e deixa os outros 36 dispon√≠veis para outros registros. Ele ocupa menos espa√ßo em mem√≥ria, por√©m, em opera√ß√µes de atualiza√ß√£o √© penalizado, pois o banco de dados precisa "procurar" outro espa√ßo em mem√≥ria para realocar o conte√∫do caso seja maior.

J√° uma coluna do tipo `char(50)` que recebe o mesmo texto: 'Ada tecnologia', utiliza todos os 50 "espa√ßos" dispon√≠veis, portanto, ocupa mais espa√ßo em mem√≥ria. Em contrapartida, as opera√ß√µes de atualiza√ß√£o s√£o extremamente r√°pidas, pois a coluna j√° tem todo o espa√ßo dispon√≠vel "reservado" para ela.

### Tipos de data e hora
- DATE: armazena datas (ano, m√™s, dia). √â usado para armazenar informa√ß√µes de datas, como datas de nascimento ou datas de eventos.

- TIME: armazena horas do dia. √â usado para armazenar informa√ß√µes de hora, como hor√°rios de in√≠cio ou fim de eventos.

- TIMESTAMP: armazena datas e horas com precis√£o de milissegundos. √â usado para armazenar informa√ß√µes de datas e horas precisas, como timestamps de cria√ß√£o ou modifica√ß√£o de registros.

### Tipos booleanos
- BOOLEAN: armazena valores verdadeiro ou falso. √â usado para armazenar dados booleanos, como se um usu√°rio est√° conectado ou desconectado.
Tipos de array
- ARRAY: armazena uma lista de valores de um tipo de dado espec√≠fico. √â usado para armazenar cole√ß√µes de dados, como uma lista de itens em um pedido ou as cores favoritas de um usu√°rio.

### Tipos especiais
- JSON e JSONB: armazena dados em formato JSON (JavaScript Object Notation), usado para armazenar dados semiestruturados que podem ser facilmente lidos por outras aplica√ß√µes ou sistemas.

- UUID: armazena identificadores √∫nicos universais (UUIDs), que s√£o frequentemente usados em sistemas distribu√≠dos para identificar de forma √∫nica recursos em um cluster.

Voc√™ pode ver todos os tipos dispon√≠veis para utiliza√ß√£o no PostgreSQL em: https://www.postgresql.org/docs/current/datatype.html

## üìå Default values
Em PostgreSQL, um valor padr√£o (ou "default value") √© um valor que √© automaticamente atribu√≠do a uma coluna se nenhum valor √© especificado para ela durante a inser√ß√£o de dados.

Por exemplo, vamos supor que voc√™ tem uma tabela "clientes" com as colunas "id", "nome", "email" e "data de cadastro". Voc√™ pode definir um valor padr√£o para a coluna "data de cadastro" para que, quando um novo registro for adicionado √† tabela, a data atual seja automaticamente inserida para essa coluna. Isso pode ser √∫til, pois evita a necessidade de inserir manualmente a data a cada vez que um novo registro √© adicionado.

Aqui est√° um exemplo de como definir um valor padr√£o em PostgreSQL:

```python
CREATE TABLE clientes (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100),
    email VARCHAR(100),
    data_de_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```
Neste exemplo, a coluna "data_de_cadastro" √© definida com um valor padr√£o de "CURRENT_TIMESTAMP", que √© uma fun√ß√£o que retorna a data e hora atual do sistema. Isso significa que, se nenhum valor for especificado para essa coluna durante a inser√ß√£o de dados, o PostgreSQL ir√° automaticamente inserir a data e hora atual.

Outro exemplo pode ser de uma tabela de pedidos, onde a coluna "status" pode ter um valor padr√£o "pendente" para todos os novos pedidos:

```python
CREATE TABLE pedidos (
    id SERIAL PRIMARY KEY,
    descricao VARCHAR(100),
    valor DECIMAL(10,2),
    status VARCHAR(20) DEFAULT 'pendente'
);
```
Neste exemplo, a coluna "status" √© definida com um valor padr√£o "pendente", que ser√° automaticamente inserido se nenhum valor for especificado durante a inser√ß√£o de dados.

Al√©m disso, √© importante observar que um valor padr√£o pode ser definido para qualquer tipo de coluna, incluindo texto, n√∫meros, datas, booleanos etc. √â uma ferramenta √∫til para garantir a consist√™ncia dos dados em uma tabela e simplificar a inser√ß√£o de dados.

### Refer√™ncias e materiais complementares
- https://www.postgresql.org/docs/current/sql-createtable.html
- https://www.postgresql.org/docs/current/sql-droptable.html
- https://www.postgresql.org/docs/current/sql-altertable.html
- https://www.postgresql.org/docs/current/datatype.html
- https://www.postgresql.org/docs/current/ddl-default.html

---
</details>

<details>
<summary>Primary e Foreign Keys</summary>

---

  ## üìå Chaves prim√°rias (Primary Keys ou PKs)
No PostgreSQL, uma Primary Key √© uma restri√ß√£o que define uma coluna ou conjunto de colunas em uma tabela como uma chave prim√°ria. A Primary Key √© usada para identificar de forma exclusiva cada linha da tabela. Cada tabela pode ter apenas uma Primary Key.

Um exemplo de Primary Key seria em uma tabela de usu√°rios, onde a coluna "ID" √© definida como Primary Key. Isso garante que cada usu√°rio tenha um ID exclusivo e permite que outras tabelas se relacionem com a tabela de usu√°rios usando o ID como refer√™ncia.

Outro exemplo seria em uma tabela de produtos, onde a coluna "C√≥digo do Produto" √© definida como Primary Key. Isso garante que cada produto tenha um c√≥digo √∫nico e permite que outras tabelas se relacionem com a tabela de produtos usando o c√≥digo do produto como refer√™ncia.

Uma analogia para entender a import√¢ncia de uma Primary Key seria como uma identidade para uma pessoa. Assim como cada pessoa tem um CPF exclusivo, cada linha em uma tabela precisa ter um identificador exclusivo para ser identificado corretamente.

Al√©m disso, a Primary Key tamb√©m pode ajudar a melhorar o desempenho das consultas, pois o PostgreSQL cria automaticamente um √≠ndice para a coluna ou conjunto de colunas que fazem parte da Primary Key. Isso torna mais r√°pido encontrar e acessar linhas espec√≠ficas na tabela.

Em resumo, a Primary Key √© uma restri√ß√£o importante no PostgreSQL que garante que cada linha de uma tabela tenha um identificador exclusivo e ajuda a melhorar o desempenho das consultas.

Para criar uma Primary Key em uma tabela no PostgreSQL, voc√™ pode usar a seguinte sintaxe:

```python
ALTER TABLE tabela
ADD CONSTRAINT nome_da_pk PRIMARY KEY (coluna);
```
Onde "tabela" √© o nome da tabela em que voc√™ deseja criar a Primary Key, "nome_da_pk" √© um nome de sua escolha para a Primary Key e "coluna" √© o nome da coluna que voc√™ deseja definir como a chave prim√°ria.

Por exemplo, para criar uma Primary Key na tabela "usuarios" com a coluna "id" como chave prim√°ria, voc√™ pode usar o seguinte comando:

```python
ALTER TABLE usuarios
ADD CONSTRAINT pk_usuarios_id PRIMARY KEY (id);
```
Isso ir√° adicionar uma Primary Key chamada "pk_usuarios_id" na tabela "usuarios" usando a coluna "id" como chave prim√°ria.

Ao criar uma tabela no PostgreSQL, voc√™ tamb√©m pode definir a Primary Key usando a cl√°usula "PRIMARY KEY". Isso √© √∫til quando voc√™ est√° criando uma tabela e deseja definir a chave prim√°ria desde o in√≠cio. Veja o exemplo abaixo:

```python
CREATE TABLE usuarios (
  id SERIAL PRIMARY KEY,
  nome VARCHAR(50),
  email VARCHAR(50)
);
```
## üìå Chaves estrangeiras (Foreign Keys ou FKs)
Foreign Keys, ou chaves estrangeiras, s√£o uma ferramenta importante para estabelecer relacionamentos entre tabelas em um banco de dados. Uma Foreign Key √© uma coluna (ou um conjunto de colunas) em uma tabela que se refere a uma Primary Key em outra tabela. A Foreign Key √© usada para garantir que os dados em uma tabela estejam relacionados aos dados em outra tabela, mantendo a integridade referencial do banco de dados.

Imagine que o seu banco de dados √© um grande quebra-cabe√ßa com v√°rias pe√ßas interligadas. A Primary Key √© como a pe√ßa central do quebra-cabe√ßa, que serve como base para todas as outras pe√ßas se encaixarem. J√° a Foreign Key √© como uma pe√ßa que se encaixa em outra pe√ßa, estabelecendo uma rela√ß√£o entre elas. Se voc√™ tentar encaixar uma pe√ßa em um lugar que n√£o corresponde, ou se faltar uma pe√ßa, o quebra-cabe√ßa n√£o ficar√° completo e n√£o ser√° poss√≠vel ver a imagem completa. Da mesma forma, se voc√™ n√£o definir corretamente as Primary Keys e Foreign Keys no seu banco de dados, ele ficar√° desorganizado e inconsistente, dificultando a recupera√ß√£o dos dados.

Vamos ver alguns exemplos para entender como as Foreign Keys funcionam:

## üìå Tabela de Produtos e Tabela de Categorias
Suponha que voc√™ tem uma tabela de produtos e outra tabela de categorias. Cada produto pode estar associado a uma √∫nica categoria. Para estabelecer esse relacionamento, voc√™ pode adicionar uma coluna chamada "id_categoria" na tabela de produtos e definir essa coluna como uma Foreign Key que referencia a Primary Key da tabela de categorias.

```python
CREATE TABLE categorias (
  id SERIAL PRIMARY KEY,
  nome VARCHAR(50)
);

CREATE TABLE produtos (
  id SERIAL PRIMARY KEY,
  id_categoria INTEGER,
  nome VARCHAR(50),
  preco NUMERIC(10,2),
  FOREIGN KEY (id_categoria) REFERENCES categorias(id)
);
```

Neste exemplo, a tabela "produtos" tem uma coluna "id_categoria" que se refere √† coluna "id" da tabela "categorias". A cl√°usula "FOREIGN KEY" √© usada para definir essa rela√ß√£o. Dessa forma, sempre que um produto √© inserido na tabela "produtos", √© necess√°rio especificar uma categoria existente na tabela "categorias" para associ√°-lo.

### Refer√™ncias e materiais complementares
https://www.postgresql.org/docs/current/ddl-constraints.html

---
</details>

<details>
<summary>Constraints</summary>
  
---

Constraints (restri√ß√µes) s√£o regras que podem ser aplicadas a colunas ou tabelas inteiras em um banco de dados para garantir a integridade e consist√™ncia dos dados. As constraints podem ser aplicadas para impor limites, restri√ß√µes ou regras que devem ser respeitadas para que os dados sejam armazenados no banco.

Imagine que as constraints s√£o como regras em um jogo de tabuleiro. Cada regra especifica o que pode e o que n√£o pode ser feito durante o jogo. Por exemplo, em um jogo de xadrez, existem regras que especificam como as pe√ßas podem se mover no tabuleiro. Se um jogador tentar mover uma pe√ßa de uma maneira que n√£o est√° de acordo com as regras, a jogada ser√° inv√°lida e ele ter√° que voltar atr√°s. Da mesma forma, se voc√™ tentar inserir um valor que n√£o atenda a uma constraint em uma coluna de um banco de dados, a inser√ß√£o ser√° inv√°lida e voc√™ ter√° que corrigir o valor ou a constraint para continuar.

## üìå CHECK
A constraint CHECK √© usada para impor uma condi√ß√£o espec√≠fica em uma coluna. Por exemplo, podemos definir uma constraint CHECK para garantir que a coluna "idade" de uma tabela de usu√°rios tenha valores entre 18 e 99 anos. Veja:

```python
CREATE TABLE usuarios (
  id SERIAL PRIMARY KEY,
  nome VARCHAR(50),
  idade INTEGER,
  CONSTRAINT idade_maior CHECK (idade >= 18 AND idade <= 99)
);
```
Isso garante que caso seja inserido um valor n√£o previsto pela constraint, o banco de dados ir√° gerar um erro e o registro n√£o ser√° inserido.

## üìå NOT NULL
A constraint NOT NULL √© usada para especificar que uma coluna n√£o pode ter valores nulos. Por exemplo, podemos definir uma constraint NULL para garantir que a coluna "email" de uma tabela de usu√°rios n√£o seja nula.

```python
CREATE TABLE usuarios (
  id SERIAL PRIMARY KEY,
  nome VARCHAR(50),
  email VARCHAR(50) NOT NULL
);
```
Isso garante que caso seja inserido um valor nulo na coluna email, o banco de dados ir√° gerar um erro e o registro n√£o ser√° inserido.

## üìå UNIQUE
A constraint UNIQUE √© usada para garantir que os valores em uma coluna sejam exclusivos. Por exemplo, podemos definir uma constraint UNIQUE para garantir que a coluna "email" de uma tabela de usu√°rios tenha valores √∫nicos.

```python
CREATE TABLE usuarios (
  id SERIAL PRIMARY KEY,
  nome VARCHAR(50),
  email VARCHAR(50) UNIQUE
);
```
Isso garante que caso seja inserido um valor na coluna email que j√° exista em outro registro, o banco de dados ir√° gerar um erro e o registro n√£o ser√° inserido.

### Refer√™ncias e materiais complementares
- https://www.postgresql.org/docs/current/ddl-constraints.html
---

</details>

<details>
<summary>Inser√ß√£o de Dados</summary>
---

</details>

<details>
<summary>Edi√ß√£o de Dados</summary>
---

</details>

<details>
<summary>Exclus√£o de Dados</summary>
---

</details>

<details>
<summary>Consulta simples</summary>
---

</details>

<details>
<summary>MER e DER</summary>
---

</details>

<details>
<summary>Formas normais</summary>
---

</details>

<details>
<summary>JOINS</summary>
---

</details>

<details>
<summary>Union</summary>
---

  
</details>

<details>
<summary>Agrega√ß√£o</summary>
---

</details>

<details>
<summary>Cast</summary>
---

</details>

<details>
<summary>Views</summary>
---

</details>

